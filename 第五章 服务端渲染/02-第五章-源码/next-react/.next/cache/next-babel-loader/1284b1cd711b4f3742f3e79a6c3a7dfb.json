{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\n\nconst FetchData = props => __jsx(\"div\", null, __jsx(\"h3\", null, \"\\u83B7\\u53D6\\u670D\\u52A1\\u7AEF\\u6570\\u636E\"), __jsx(\"ul\", null, props.productList.map(item => __jsx(\"li\", {\n  key: item.id\n}, item.title)))); // 当页面初次加载时，只会在服务端执行一次，在路由的切换时客户端才会被执行。\n\n\nFetchData.getInitialProps = async function () {\n  let res = await fetch(\" http://localhost:8081/api/getProductList\");\n  let data = res.json();\n  return {\n    productList: data.message\n  };\n};\n\nexport default FetchData; // npm install --save isomorphic-unfetch","map":{"version":3,"sources":["E:/D/博学谷/React课程/视频录制/案例/next-react/pages/fetch-data/index.js"],"names":["fetch","FetchData","props","productList","map","item","id","title","getInitialProps","res","data","json","message"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;;AACA,MAAMC,SAAS,GAAEC,KAAD,IACZ,mBACI,+DADJ,EAEI,kBAEQA,KAAK,CAACC,WAAN,CAAkBC,GAAlB,CAAsBC,IAAI,IACtB;AAAI,EAAA,GAAG,EAAEA,IAAI,CAACC;AAAd,GACKD,IAAI,CAACE,KADV,CADJ,CAFR,CAFJ,CADJ,C,CAcA;;;AACAN,SAAS,CAACO,eAAV,GAA0B,kBAAgB;AACxC,MAAIC,GAAG,GAAC,MAAMT,KAAK,CAAC,2CAAD,CAAnB;AACD,MAAIU,IAAI,GAAED,GAAG,CAACE,IAAJ,EAAV;AACA,SAAO;AAACR,IAAAA,WAAW,EAACO,IAAI,CAACE;AAAlB,GAAP;AACA,CAJD;;AAKA,eAAeX,SAAf,C,CACA","sourcesContent":["import fetch from 'isomorphic-unfetch'\r\nconst FetchData=(props)=>(\r\n    <div>\r\n        <h3>获取服务端数据</h3>\r\n        <ul>\r\n            {\r\n                props.productList.map(item=>(\r\n                    <li key={item.id}>\r\n                        {item.title}\r\n                    </li>\r\n                ))\r\n            }\r\n        </ul>\r\n    </div>\r\n)\r\n// 当页面初次加载时，只会在服务端执行一次，在路由的切换时客户端才会被执行。\r\nFetchData.getInitialProps=async function(){\r\n  let res=await fetch(\" http://localhost:8081/api/getProductList\")\r\n let data= res.json();\r\n return {productList:data.message}\r\n}\r\nexport default FetchData\r\n// npm install --save isomorphic-unfetch"]},"metadata":{},"sourceType":"module"}